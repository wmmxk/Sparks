{"version":"NotebookV1","origId":503877321547194,"name":"09-DS-Wiki-ML","language":"scala","commands":[{"version":"CommandV1","origId":503877321547196,"guid":"10f297af-1851-4754-a6e5-4ed8604a51bc","subtype":"command","commandType":"auto","position":1.0,"command":"%md Attach to, and then restart your cluster first to clear out old memory caches and get to a default, standard environment. The restart should take 1 - 2 minutes.\n\n![Restart Cluster](http://curriculum-release.s3-website-us-west-2.amazonaws.com/wiki-book/general/restart_cluster.png)","commandVersion":0,"state":"finished","results":null,"errorSummary":null,"error":null,"workflows":[],"startTime":0.0,"submitTime":0.0,"finishTime":0.0,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"","commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"iPythonMetadata":null,"streamStates":{},"nuid":"9a393db8-a3cb-4623-970f-51a2463f193f"},{"version":"CommandV1","origId":503877321547197,"guid":"c5968183-e801-4179-87a5-125ddbf92189","subtype":"command","commandType":"auto","position":2.0,"command":"%md ## Machine Learning Pipeline: TF-IDF and K-Means","commandVersion":0,"state":"finished","results":null,"errorSummary":null,"error":null,"workflows":[],"startTime":0.0,"submitTime":0.0,"finishTime":0.0,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"","commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"iPythonMetadata":null,"streamStates":{},"nuid":"caf87258-13e6-4c15-a806-4c333f6b1685"},{"version":"CommandV1","origId":503877321547198,"guid":"5b91e965-30d8-4abf-819e-a2f3d5f82fea","subtype":"command","commandType":"auto","position":3.0,"command":"val wikiDF = sqlContext.read.parquet(\"/mnt/wikipedia-readonly/en_wikipedia/march_5_snapshot/flattenedParquet_updated3days_30partitions/\").cache()","commandVersion":0,"state":"finished","results":null,"errorSummary":null,"error":null,"workflows":[],"startTime":0.0,"submitTime":0.0,"finishTime":0.0,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"","commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"iPythonMetadata":null,"streamStates":{},"nuid":"136e5fd6-fcb8-4536-8bca-07157a81de14"},{"version":"CommandV1","origId":503877321547199,"guid":"3e06a2dd-f548-4e6e-9d5e-2a3b76ef72e7","subtype":"command","commandType":"auto","position":4.0,"command":"wikiDF.columns","commandVersion":0,"state":"finished","results":null,"errorSummary":null,"error":null,"workflows":[],"startTime":0.0,"submitTime":0.0,"finishTime":0.0,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"","commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"iPythonMetadata":null,"streamStates":{},"nuid":"3228046f-61e1-447c-b1d5-54694a6bc72a"},{"version":"CommandV1","origId":503877321547200,"guid":"cb0121dc-eec4-4967-8284-4feb9e89f77e","subtype":"command","commandType":"auto","position":5.0,"command":"wikiDF.show(5)","commandVersion":0,"state":"finished","results":null,"errorSummary":null,"error":null,"workflows":[],"startTime":0.0,"submitTime":0.0,"finishTime":0.0,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"","commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"iPythonMetadata":null,"streamStates":{},"nuid":"ce3972d7-2ce6-4e7b-a1b2-c7fba004c9c3"},{"version":"CommandV1","origId":503877321547201,"guid":"46ef6773-c4d1-4f53-afcf-91723b7e56ac","subtype":"command","commandType":"auto","position":6.0,"command":"%md Lower case the text:","commandVersion":0,"state":"finished","results":null,"errorSummary":null,"error":null,"workflows":[],"startTime":0.0,"submitTime":0.0,"finishTime":0.0,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"","commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"iPythonMetadata":null,"streamStates":{},"nuid":"e0f76837-9e7b-4b04-a227-accf587f7abc"},{"version":"CommandV1","origId":503877321547202,"guid":"79cb3a30-5dfd-499a-9ccf-41e3330b0c3c","subtype":"command","commandType":"auto","position":7.0,"command":"import org.apache.spark.sql.functions._\n\nval wikiLoweredDF = wikiDF.select($\"*\", lower($\"text\").as(\"lowerText\"))","commandVersion":0,"state":"finished","results":null,"errorSummary":null,"error":null,"workflows":[],"startTime":0.0,"submitTime":0.0,"finishTime":0.0,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"","commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"iPythonMetadata":null,"streamStates":{},"nuid":"8e967160-fb71-4968-9a69-559d10733058"},{"version":"CommandV1","origId":503877321547203,"guid":"c2462699-276b-4e3b-8ada-f1fa3929224f","subtype":"command","commandType":"auto","position":8.0,"command":"wikiLoweredDF.show(2)","commandVersion":0,"state":"finished","results":null,"errorSummary":null,"error":null,"workflows":[],"startTime":0.0,"submitTime":0.0,"finishTime":0.0,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"","commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"iPythonMetadata":null,"streamStates":{},"nuid":"215fce22-785b-4b9e-98ae-ef31fbd28867"},{"version":"CommandV1","origId":503877321547204,"guid":"8302eb87-eaa6-403f-b10a-75d518fc8580","subtype":"command","commandType":"auto","position":9.0,"command":"%md #### Set up the ML Pipeline:","commandVersion":0,"state":"finished","results":null,"errorSummary":null,"error":null,"workflows":[],"startTime":0.0,"submitTime":0.0,"finishTime":0.0,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"","commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"iPythonMetadata":null,"streamStates":{},"nuid":"492143c2-d7e8-465e-9b22-77d38a4d006e"},{"version":"CommandV1","origId":503877321547205,"guid":"a46c703e-7a8b-4433-87c8-18ee042c5bc5","subtype":"command","commandType":"auto","position":10.0,"command":"import org.apache.spark.ml.feature.{RegexTokenizer, StopWordsRemover, HashingTF, IDF, Normalizer}","commandVersion":0,"state":"finished","results":null,"errorSummary":null,"error":null,"workflows":[],"startTime":0.0,"submitTime":0.0,"finishTime":0.0,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"","commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"iPythonMetadata":null,"streamStates":{},"nuid":"1b7dd22a-6395-439b-a871-efef9be4ed31"},{"version":"CommandV1","origId":503877321547206,"guid":"1b8d5182-9bc4-405c-8afa-49583e90b027","subtype":"command","commandType":"auto","position":11.0,"command":"%md ##### Step 1: Natural Language Processing: RegexTokenizer: Convert the lowerText col to a bag of words","commandVersion":0,"state":"finished","results":null,"errorSummary":null,"error":null,"workflows":[],"startTime":0.0,"submitTime":0.0,"finishTime":0.0,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"","commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"iPythonMetadata":null,"streamStates":{},"nuid":"de8e041a-c3cc-4fe8-a210-55195b9bed4a"},{"version":"CommandV1","origId":503877321547207,"guid":"ae5e6ca9-d381-4fed-8b45-dc7f856ce079","subtype":"command","commandType":"auto","position":12.0,"command":"val tokenizer = new RegexTokenizer()\n  .setInputCol(\"lowerText\")\n  .setOutputCol(\"words\")\n  .setPattern(\"\\\\W+\")","commandVersion":0,"state":"finished","results":null,"errorSummary":null,"error":null,"workflows":[],"startTime":0.0,"submitTime":0.0,"finishTime":0.0,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"","commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"iPythonMetadata":null,"streamStates":{},"nuid":"0ac80fbd-5af1-470c-aa6b-e2f80ea55093"},{"version":"CommandV1","origId":503877321547208,"guid":"52904e7d-0bba-4669-bff7-c0740a5c2d4f","subtype":"command","commandType":"auto","position":13.0,"command":"val wikiWordsDF = tokenizer.transform(wikiLoweredDF)","commandVersion":0,"state":"finished","results":null,"errorSummary":null,"error":null,"workflows":[],"startTime":0.0,"submitTime":0.0,"finishTime":0.0,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"","commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"iPythonMetadata":null,"streamStates":{},"nuid":"8c7e7f1e-1ee3-4a80-b316-4687575c7444"},{"version":"CommandV1","origId":503877321547209,"guid":"65dce913-5ed7-4382-9f8e-e2ecea520936","subtype":"command","commandType":"auto","position":14.0,"command":"wikiWordsDF.printSchema","commandVersion":0,"state":"finished","results":null,"errorSummary":null,"error":null,"workflows":[],"startTime":0.0,"submitTime":0.0,"finishTime":0.0,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"","commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"iPythonMetadata":null,"streamStates":{},"nuid":"b0f32eca-00d1-498d-8bf3-7dccceeceaf5"},{"version":"CommandV1","origId":503877321547210,"guid":"89244416-9780-4fc2-8993-f3f6b5d13401","subtype":"command","commandType":"auto","position":15.0,"command":"wikiWordsDF.select(\"words\").first","commandVersion":0,"state":"finished","results":null,"errorSummary":null,"error":null,"workflows":[],"startTime":0.0,"submitTime":0.0,"finishTime":0.0,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"","commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"iPythonMetadata":null,"streamStates":{},"nuid":"895bfc4e-16a5-4913-9b98-d40fdfdb04dd"},{"version":"CommandV1","origId":503877321547211,"guid":"585a2210-b150-428a-bff5-1146f662d2ce","subtype":"command","commandType":"auto","position":16.0,"command":"%md ##### Step 2: Natural Language Processing: StopWordsRemover: Remove Stop words","commandVersion":0,"state":"finished","results":null,"errorSummary":null,"error":null,"workflows":[],"startTime":0.0,"submitTime":0.0,"finishTime":0.0,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"","commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"iPythonMetadata":null,"streamStates":{},"nuid":"80354045-87db-4048-8245-75bdabf3c00f"},{"version":"CommandV1","origId":503877321547212,"guid":"abf93dce-d5de-40ac-aeb5-38b68b52adff","subtype":"command","commandType":"auto","position":17.0,"command":"val remover = new StopWordsRemover()\n  .setInputCol(\"words\")\n  .setOutputCol(\"noStopWords\")","commandVersion":0,"state":"finished","results":null,"errorSummary":null,"error":null,"workflows":[],"startTime":0.0,"submitTime":0.0,"finishTime":0.0,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"","commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"iPythonMetadata":null,"streamStates":{},"nuid":"9efeba43-b2c8-4adf-9579-6a33d4f2cdc6"},{"version":"CommandV1","origId":503877321547213,"guid":"4abe5df5-1688-4a65-94c5-cc54c1ad4143","subtype":"command","commandType":"auto","position":18.0,"command":"val noStopWordsListDF = remover.transform(wikiWordsDF)","commandVersion":0,"state":"finished","results":null,"errorSummary":null,"error":null,"workflows":[],"startTime":0.0,"submitTime":0.0,"finishTime":0.0,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"","commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"iPythonMetadata":null,"streamStates":{},"nuid":"f8e6315b-c486-4b22-b712-2db5fad29a3c"},{"version":"CommandV1","origId":503877321547214,"guid":"a4757dcc-b39c-44fe-b757-d32e8bcef720","subtype":"command","commandType":"auto","position":19.0,"command":"noStopWordsListDF.printSchema","commandVersion":0,"state":"finished","results":null,"errorSummary":null,"error":null,"workflows":[],"startTime":0.0,"submitTime":0.0,"finishTime":0.0,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"","commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"iPythonMetadata":null,"streamStates":{},"nuid":"eb3b68da-a0e1-4119-a10e-6a366f227c92"},{"version":"CommandV1","origId":503877321547215,"guid":"6679c589-4026-4528-81ad-f6aef4bb24dd","subtype":"command","commandType":"auto","position":20.0,"command":"noStopWordsListDF.select(\"id\", \"title\", \"words\", \"noStopWords\").show(15)","commandVersion":0,"state":"finished","results":null,"errorSummary":null,"error":null,"workflows":[],"startTime":0.0,"submitTime":0.0,"finishTime":0.0,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"","commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"iPythonMetadata":null,"streamStates":{},"nuid":"bc453b97-e115-464d-bd5d-08c24a19d5c9"},{"version":"CommandV1","origId":503877321547216,"guid":"e76283c9-0aad-467e-a7b8-d67f40570c88","subtype":"command","commandType":"auto","position":21.0,"command":"%md ##### Step 3: HashingTF","commandVersion":0,"state":"finished","results":null,"errorSummary":null,"error":null,"workflows":[],"startTime":0.0,"submitTime":0.0,"finishTime":0.0,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"","commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"iPythonMetadata":null,"streamStates":{},"nuid":"a58057d6-81b1-404b-8d8e-52b0c51f702a"},{"version":"CommandV1","origId":503877321547217,"guid":"cc374b8f-8d0b-4b35-aece-def7ae30f6f6","subtype":"command","commandType":"auto","position":22.0,"command":"// More features = more complexity and computational time and accuracy\n\nval hashingTF = new HashingTF().setInputCol(\"noStopWords\").setOutputCol(\"hashingTF\").setNumFeatures(20000)\nval featurizedDataDF = hashingTF.transform(noStopWordsListDF)","commandVersion":0,"state":"finished","results":null,"errorSummary":null,"error":null,"workflows":[],"startTime":0.0,"submitTime":0.0,"finishTime":0.0,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"","commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"iPythonMetadata":null,"streamStates":{},"nuid":"2df121c9-1d39-4eac-a0f5-4f80cb710b8a"},{"version":"CommandV1","origId":503877321547218,"guid":"a65a2e5b-7baa-45e5-81d7-f350726a229d","subtype":"command","commandType":"auto","position":23.0,"command":"featurizedDataDF.printSchema","commandVersion":0,"state":"finished","results":null,"errorSummary":null,"error":null,"workflows":[],"startTime":0.0,"submitTime":0.0,"finishTime":0.0,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"","commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"iPythonMetadata":null,"streamStates":{},"nuid":"22cff1ef-192f-4b52-8b09-c02349dce4b2"},{"version":"CommandV1","origId":503877321547219,"guid":"887b14d3-fa86-4ccd-b8d8-61445ba5b375","subtype":"command","commandType":"auto","position":24.0,"command":"featurizedDataDF.select(\"id\", \"title\", \"noStopWords\", \"hashingTF\").show(7)","commandVersion":0,"state":"finished","results":null,"errorSummary":null,"error":null,"workflows":[],"startTime":0.0,"submitTime":0.0,"finishTime":0.0,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"","commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"iPythonMetadata":null,"streamStates":{},"nuid":"c506a045-16b3-4f96-b3a0-2a0baa4306b8"},{"version":"CommandV1","origId":503877321547220,"guid":"5274e0b1-5c99-4aa3-ada2-fe6d07d69335","subtype":"command","commandType":"auto","position":25.0,"command":"%md ##### Step 4: IDF","commandVersion":0,"state":"finished","results":null,"errorSummary":null,"error":null,"workflows":[],"startTime":0.0,"submitTime":0.0,"finishTime":0.0,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"","commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"iPythonMetadata":null,"streamStates":{},"nuid":"00117f45-ce17-4eea-9963-3fd516af977d"},{"version":"CommandV1","origId":503877321547221,"guid":"6e837a3b-3933-4361-a9d9-3e4f02c4f652","subtype":"command","commandType":"auto","position":26.0,"command":"// This will take 3 - 4 mins to run\nval idf = new IDF().setInputCol(\"hashingTF\").setOutputCol(\"idf\")\nval idfModel = idf.fit(featurizedDataDF)","commandVersion":0,"state":"finished","results":null,"errorSummary":null,"error":null,"workflows":[],"startTime":0.0,"submitTime":0.0,"finishTime":0.0,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"","commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"iPythonMetadata":null,"streamStates":{},"nuid":"d89210a7-3d53-4efa-9a47-12ca4728293a"},{"version":"CommandV1","origId":503877321547222,"guid":"dce2f5ba-26ae-4fd3-bf84-774d96525214","subtype":"command","commandType":"auto","position":27.0,"command":"%md ##### Step 5: Normalizer","commandVersion":0,"state":"finished","results":null,"errorSummary":null,"error":null,"workflows":[],"startTime":0.0,"submitTime":0.0,"finishTime":0.0,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"","commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"iPythonMetadata":null,"streamStates":{},"nuid":"2f817533-46f2-4044-a010-c3e41e72d3f5"},{"version":"CommandV1","origId":503877321547223,"guid":"13d5ba0b-da18-41b0-93ad-ba320349959b","subtype":"command","commandType":"auto","position":28.0,"command":"// A normalizer is a common operation for text classification.\n\n// It simply gets all of the data on the same scale... for example, if one article is much longer and another, it'll normalize the scales for the different features.\n\n// If we don't normalize, an article with more words would be weighted differently\n\nval normalizer = new Normalizer()\n  .setInputCol(\"idf\")\n  .setOutputCol(\"features\")","commandVersion":0,"state":"finished","results":null,"errorSummary":null,"error":null,"workflows":[],"startTime":0.0,"submitTime":0.0,"finishTime":0.0,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"","commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"iPythonMetadata":null,"streamStates":{},"nuid":"d58fd496-ef04-4465-a8b6-d301f165166d"},{"version":"CommandV1","origId":503877321547224,"guid":"1b23a27e-cbdf-4989-832a-6e3f9aab2930","subtype":"command","commandType":"auto","position":29.0,"command":"%md ##### Step 6: k-means & tie it all together...","commandVersion":0,"state":"finished","results":null,"errorSummary":null,"error":null,"workflows":[],"startTime":0.0,"submitTime":0.0,"finishTime":0.0,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"","commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"iPythonMetadata":null,"streamStates":{},"nuid":"8d59d9df-5e2c-45d7-b259-c11841739a04"},{"version":"CommandV1","origId":503877321547225,"guid":"23fdeafc-f482-48ca-ac0a-78ade27a3cc1","subtype":"command","commandType":"auto","position":30.0,"command":"// This will take over 1 hour to run!\n\n/*\nimport org.apache.spark.ml.Pipeline\nimport org.apache.spark.ml.clustering.KMeans\n \nval kmeans = new KMeans()\n  .setFeaturesCol(\"features\")\n  .setPredictionCol(\"prediction\")\n  .setK(100)\n  .setSeed(0) // for reproducability\n \nval pipeline = new Pipeline()\n  .setStages(Array(tokenizer, remover, hashingTF, idf, normalizer, kmeans))  \n \nval model = pipeline.fit(wikiLoweredDF)\n*/","commandVersion":0,"state":"finished","results":null,"errorSummary":null,"error":null,"workflows":[],"startTime":0.0,"submitTime":0.0,"finishTime":0.0,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"","commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"iPythonMetadata":null,"streamStates":{},"nuid":"2f5b7d44-2d1b-4b98-9a8c-2413835c1f7b"},{"version":"CommandV1","origId":503877321547226,"guid":"e4464c43-4c1e-4a7e-b057-890b0242a121","subtype":"command","commandType":"auto","position":31.0,"command":"%md Load the model built from the 5 million articles instead:\n\nThis will take a little over 3 minutes","commandVersion":0,"state":"finished","results":null,"errorSummary":null,"error":null,"workflows":[],"startTime":0.0,"submitTime":0.0,"finishTime":0.0,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"","commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"iPythonMetadata":null,"streamStates":{},"nuid":"ae5e0b0b-4df3-493a-9171-ad2a1e5d3776"},{"version":"CommandV1","origId":503877321547227,"guid":"6d7708e6-a10e-4c10-9ec1-a42241a6dee9","subtype":"command","commandType":"auto","position":32.0,"command":"val model2 = org.apache.spark.ml.PipelineModel.load(\"/mnt/wikipedia-readonly/models/5mill_articles\")","commandVersion":0,"state":"finished","results":null,"errorSummary":null,"error":null,"workflows":[],"startTime":0.0,"submitTime":0.0,"finishTime":0.0,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"","commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"iPythonMetadata":null,"streamStates":{},"nuid":"5d49e805-4168-447c-899e-d46213f7bc8e"},{"version":"CommandV1","origId":503877321547228,"guid":"3691371d-0d87-4c05-90e4-ee495ec3d17f","subtype":"command","commandType":"auto","position":33.0,"command":"%md\nLet's take a look at a sample of the data to see if we can see a pattern between predicted clusters and titles.","commandVersion":0,"state":"finished","results":null,"errorSummary":null,"error":null,"workflows":[],"startTime":0.0,"submitTime":0.0,"finishTime":0.0,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"","commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"iPythonMetadata":null,"streamStates":{},"nuid":"1f4cce9b-48d8-4ee7-ae05-49b1c79395c0"},{"version":"CommandV1","origId":503877321547229,"guid":"feca273e-5766-49cb-94a8-75bb22caff09","subtype":"command","commandType":"auto","position":34.0,"command":"val rawPredictionsDF = model2.transform(wikiLoweredDF)","commandVersion":0,"state":"finished","results":null,"errorSummary":null,"error":null,"workflows":[],"startTime":0.0,"submitTime":0.0,"finishTime":0.0,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"","commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"iPythonMetadata":null,"streamStates":{},"nuid":"45270341-d212-4d0c-b0e0-fd19937c028c"},{"version":"CommandV1","origId":503877321547230,"guid":"9e614786-4269-4afa-9acd-b945ea584193","subtype":"command","commandType":"auto","position":35.0,"command":"rawPredictionsDF.columns","commandVersion":0,"state":"finished","results":null,"errorSummary":null,"error":null,"workflows":[],"startTime":0.0,"submitTime":0.0,"finishTime":0.0,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"","commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"iPythonMetadata":null,"streamStates":{},"nuid":"41711844-8867-4b01-bc71-7667cf83c820"},{"version":"CommandV1","origId":503877321547231,"guid":"a5143ca4-8b80-4366-8719-31b41f8e2336","subtype":"command","commandType":"auto","position":36.0,"command":"rawPredictionsDF.show(10)","commandVersion":0,"state":"finished","results":null,"errorSummary":null,"error":null,"workflows":[],"startTime":0.0,"submitTime":0.0,"finishTime":0.0,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"","commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"iPythonMetadata":null,"streamStates":{},"nuid":"53eee79d-8387-48db-85e4-05ed987bb493"},{"version":"CommandV1","origId":503877321547232,"guid":"435b6e41-d8b5-4628-8316-b02d05565ac6","subtype":"command","commandType":"auto","position":37.0,"command":"val predictionsDF = rawPredictionsDF.select($\"title\", $\"prediction\").cache","commandVersion":0,"state":"finished","results":null,"errorSummary":null,"error":null,"workflows":[],"startTime":0.0,"submitTime":0.0,"finishTime":0.0,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"","commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"iPythonMetadata":null,"streamStates":{},"nuid":"112badab-bcda-4e9f-873c-a5ac84f4bc00"},{"version":"CommandV1","origId":503877321547233,"guid":"acc7fd36-cbc7-44d5-bae0-7e1addb4c53a","subtype":"command","commandType":"auto","position":38.0,"command":"predictionsDF.show(10)","commandVersion":0,"state":"finished","results":null,"errorSummary":null,"error":null,"workflows":[],"startTime":0.0,"submitTime":0.0,"finishTime":0.0,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"","commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"iPythonMetadata":null,"streamStates":{},"nuid":"8acd3864-5aca-4637-a5dd-770af468f81e"},{"version":"CommandV1","origId":503877321547234,"guid":"8eb04353-6021-4b7a-923e-df55e1e2e25c","subtype":"command","commandType":"auto","position":39.0,"command":"// This will take 4-5 minutes\npredictionsDF.groupBy(\"prediction\").count().orderBy($\"count\" desc).show(100)","commandVersion":0,"state":"finished","results":null,"errorSummary":null,"error":null,"workflows":[],"startTime":0.0,"submitTime":0.0,"finishTime":0.0,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"","commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"iPythonMetadata":null,"streamStates":{},"nuid":"ae434ee7-fb07-498a-9efc-e9b0da1d9b01"},{"version":"CommandV1","origId":503877321547235,"guid":"ecc2cce2-f090-4be1-ac84-23b7cca25dcc","subtype":"command","commandType":"auto","position":40.0,"command":"//Indonesia and Asia?\ndisplay(predictionsDF.filter(\"prediction = 31\").select(\"title\", \"prediction\").limit(30))","commandVersion":0,"state":"finished","results":null,"errorSummary":null,"error":null,"workflows":[],"startTime":0.0,"submitTime":0.0,"finishTime":0.0,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"","commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"iPythonMetadata":null,"streamStates":{},"nuid":"dd5c9062-9110-4c9b-9b1d-8ee10d812b9c"},{"version":"CommandV1","origId":503877321547236,"guid":"d38b427a-b5c6-4c01-a7a9-1b7829fe7b00","subtype":"command","commandType":"auto","position":41.0,"command":"//Norway?\ndisplay(predictionsDF.filter(\"prediction = 32\").select(\"title\", \"prediction\").limit(30))","commandVersion":0,"state":"finished","results":null,"errorSummary":null,"error":null,"workflows":[],"startTime":0.0,"submitTime":0.0,"finishTime":0.0,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"","commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"iPythonMetadata":null,"streamStates":{},"nuid":"c2f4805b-e4ac-4242-a009-ff09876dd0f2"},{"version":"CommandV1","origId":503877321547237,"guid":"ec84cb5c-e9d1-4fe9-a04f-21739d4befc8","subtype":"command","commandType":"auto","position":42.0,"command":"//Baseball??\ndisplay(predictionsDF.filter(\"prediction = 45\").select(\"title\", \"prediction\").limit(30))","commandVersion":0,"state":"finished","results":null,"errorSummary":null,"error":null,"workflows":[],"startTime":0.0,"submitTime":0.0,"finishTime":0.0,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"","commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"iPythonMetadata":null,"streamStates":{},"nuid":"50425135-bcb9-415a-905b-b27bb4597a07"},{"version":"CommandV1","origId":503877321547238,"guid":"0322c539-0f60-4c35-85f0-25ef24f9a937","subtype":"command","commandType":"auto","position":43.0,"command":"//Music and film?\ndisplay(predictionsDF.filter(\"prediction = 82\").select(\"title\", \"prediction\").limit(30))","commandVersion":0,"state":"finished","results":null,"errorSummary":null,"error":null,"workflows":[],"startTime":0.0,"submitTime":0.0,"finishTime":0.0,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"","commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"iPythonMetadata":null,"streamStates":{},"nuid":"359a031f-bd9a-466a-8dc2-72a08ab019ad"},{"version":"CommandV1","origId":503877321547239,"guid":"2e007ea0-7207-4e96-8941-ca40492a2918","subtype":"command","commandType":"auto","position":44.0,"command":"// Singers and Actors?\ndisplay(predictionsDF.filter(\"prediction = 83\").select(\"title\", \"prediction\").limit(20))","commandVersion":0,"state":"finished","results":null,"errorSummary":null,"error":null,"workflows":[],"startTime":0.0,"submitTime":0.0,"finishTime":0.0,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"","commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"iPythonMetadata":null,"streamStates":{},"nuid":"079c45c6-695c-4c80-969d-a94782eba592"},{"version":"CommandV1","origId":503877321547240,"guid":"813ef1bd-6baa-48e4-b1fc-0d14c70f30f9","subtype":"command","commandType":"auto","position":45.0,"command":"//Politics?\ndisplay(predictionsDF.filter(\"prediction = 37\").select(\"title\", \"prediction\").limit(30))","commandVersion":0,"state":"finished","results":null,"errorSummary":null,"error":null,"workflows":[],"startTime":0.0,"submitTime":0.0,"finishTime":0.0,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"","commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"iPythonMetadata":null,"streamStates":{},"nuid":"ca2c7a57-b77c-4e33-b5c3-940b94c66d6a"},{"version":"CommandV1","origId":503877321547241,"guid":"2be013fc-af2f-463f-b345-b785b144a0a0","subtype":"command","commandType":"auto","position":46.0,"command":"predictionsDF.filter($\"title\" === \"Apache Spark\").show(10)","commandVersion":0,"state":"finished","results":null,"errorSummary":null,"error":null,"workflows":[],"startTime":0.0,"submitTime":0.0,"finishTime":0.0,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"","commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"iPythonMetadata":null,"streamStates":{},"nuid":"de17b0f5-d685-432e-9530-a1e5c1c49ea8"},{"version":"CommandV1","origId":503877321547242,"guid":"5fcf8ea7-8802-4d6a-a2b0-579b4eb91018","subtype":"command","commandType":"auto","position":47.0,"command":"// What will the cluster contain? big data? technology? software?\ndisplay(predictionsDF.filter(\"prediction = 5\").limit(25))","commandVersion":0,"state":"finished","results":null,"errorSummary":null,"error":null,"workflows":[],"startTime":0.0,"submitTime":0.0,"finishTime":0.0,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"","commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"iPythonMetadata":null,"streamStates":{},"nuid":"ed6f0430-5908-4ee3-8433-c7d2502c60e9"}],"dashboards":[],"guid":"0b58a954-fb23-4821-84a4-3aaac6715fb6","globalVars":{},"iPythonMetadata":null,"inputWidgets":{}}